---
title: Tuskar-UI
authors: akrivoka, jtomasek, rdopieralski, rwsu, tzumainn
wiki_title: Tuskar-UI
wiki_revision_count: 35
wiki_last_updated: 2015-03-24
---

# Tuskar-UI

The Tuskar UI is a management interface for OpenStack deployments. The deployment methodology is based upon [TripleO](https://wiki.openstack.org/wiki/TripleO) and [Tuskar](https://wiki.openstack.org/wiki/Tuskar); these in turn rely on OpenStack services such as Glance, Nova, and Heat.

The Tuskar UI is developed as a plugin for OpenStack Horizon; as such it is Django-based and stateless.

## Features

Key features of the Tuskar-UI include:

*   **Overcloud management**
    -   Plan and deploy your Overcloud entirely through the UI
    -   Choose deployment counts for compute, controller, and storage roles
    -   View and customize deployment parameters
    -   See real-time updates in the UI during deployment or undeployment
    -   Deployment log details each step of the deployment process

<!-- -->

*   **Node management:**
    -   Create an inventory of nodes through direct user input or bulk CSV upload
    -   Support for both baremetal and virtual nodes
    -   Node auto-discovery allows node attributes to be automatically filled in
    -   Tabular views allow user to easily distinguish between nodes in use and nodes that are free
    -   View summary statistics of current node usage
    -   Drill down to a specific node to view historical usage data
    -   Flavor 'suggestions' allow for quick flavor creation to match existing nodes

<!-- -->

*   **Role management:**
    -   View aggregated historical statistics for compute, controller, and storage roles
    -   Manage the flavors and images used by each role

## Quick Install

We recommend using Instack to install the Tuskar-UI:

1. Start by following the [Instack instructions](https://rdoproject.org/Deploying_RDO_using_Instack) through "Deploying an Undercloud".

2. Follow the [Instack overcloud steps](https://rdoproject.org/Deploying_an_RDO_Overcloud_with_Instack) in "Deploying the Overcloud via the Tuskar UI".

3. If using a remote virtual host, you may need to configure your ports and create an ssh tunnel, as detailed [here](https://rdoproject.org/Instack_FAQ#How_do_I_view_the_Undercloud_Dashboard_when_using_a_remote_virt_host.3F).

The next section will cover usage of the Tuskar UI.

## Quick Usage

Once the Tuskar-UI is installed, it can be accessed through a web browser at <http://><host>/dashboard/ ; or <http://><virt-host>:8080/dashboard if you're using a virtual host.

### Login

Upon accessing the Tuskar-UI, you will be prompted for a username and password. The username is 'admin'; the password can be found in /root/stackrc on the instack virtual machine.

### Register nodes

Start by registering nodes for your Overcloud. To do so, click on 'Nodes' in the left navigation.

Once there, you'll see two options for registering nodes in the top-right corner. The first is to input the relevant node information manually; click on the '+' icon to do so. The other is to upload a CSV containing your node information; click on the Upload icon to do that instead.

If you are using virtual nodes, you can generate the CSV by running [this script](https://github.com/openstack/tuskar-ui/blob/master/nodes.sh) on your instack virtual machine.

Both options lead to a node registration form where you can choose to have auto-discovery performed on the nodes to identify missing node attributes.

If you choose not to use auto-discovery, fill in any missing node attributes and submit the form. Your nodes are now registered and viewable in the 'Free' tab.

If you use auto-discovery, your nodes will appear in the 'Maintenance' tab instead with the status 'Discovering'. Wait a few minutes, and the status will change to 'Discovered'; their attributes will appear as well. Now you can choose to 'Activate' these nodes, and they will appear in the 'Free' tab. If you don't see any updates in the 'Maintenance' tab after discovery is complete, refresh your browser. The page does not auto-update.

### Deploy the Overcloud

You are now ready to deploy your Overcloud. Start by clicking on 'Overview' in the left navigation. From here, you can adjust the role count of your Overcloud as node availability permits. At a minimum, a controller node and a compute node must be specified. Also, please note that the number of controller nodes can only be increased by 2 at a time. Once you are satisfied, click on 'Deploy'. A popup will appear informing you of any autogenerated overcloud parameters; press 'Deploy'.

Your Overcloud is now deploying.

### Initialize the Overcloud

After the Overcloud is deployed, you will still need to initialize Overcloud services. To do so simply click on the 'Initialize' button. A form will appear detailing various initialization parameters; the defaults will be sufficient. Press 'Initialize' to start the initialization process.

Once this is complete, the 'Overview' page will show you the credentials needed to access Overcloud Horizon.

Please note, that you should only use the generated password for your first login into the Overcloud Horizon, and change it as soon as possible, using a password of your choice. You can do that by navigating to the **Admin** tab, **Identity** panel, and clicking **Users**, then locating the "Admin" user on the list and change the password for that user.

## Advanced Usage

### Post Deployment Management

#### Viewing Deployment Details

After the Overcloud is deployed, you can access the information about the current deployment on the Overview page. Overcloud access information, which includes Overcloud Horizon URL, username and password, will be displayed on the left-hand side. On the right-hand side, you can see the role configuration (i.e. number of nodes assigned to each role).

#### Scaling Up

If you wish to add nodes to an existing deployment, you may do so using the "Scale-out" option on the Overview page. After pressing the "Scale-out" button, the "Scale-out Deployment" dialog will appear. Using this dialog, you may modify the number of nodes assigned to each role. Two things to note here. Firstly, only scaling up is supported, meaning the number of nodes can only be increased and not decreased. Secondly, number of Controller nodes can only be increased by two at a time (i.e. you can only have an odd number of controller nodes: 1, 3, 5, etc). After modifying the number of nodes for each role, press the "Deploy Changes" button, and the deployment will start updating to reflect the changes you have just made.

#### Removing Deployment

If you wish do remove an existing deployment, you may do so using the "Undeploy" option on the Overview page. After pressing the "Undeploy" button, a confirmation dialog will appear, asking you to confirm that you want to remove your deployment. Press the "Undeploy" button to confirm this, and the deployment removal will start.

### Flavor management

Flavors are hardware templates that define RAM, disk, number of cores, architecture etc. Each Role is associated to certain Flavor.

Flavors can be managed in the Flavors tab in the main navigation. Users can define new Flavors two different ways:

*   Suggested flavors: They are based on registered nodes hardware configuration. Create a Flavor by clicking the "plus" action button at the table row. Suggested flavor can also be edited before Flavor is created from it.
*   Definine a Flavor from scratch using the "New Flavor" top action button.

The filterable table below Suggested flavors lists all Flavors. From here, by clicking Flavor name, it is possible to display Flavor detail and Roles associated to it.

### Service configuration

Service configuration page is accessible from the main navigation. It lists configuration options for OpenStack services which are divided into multiple sections. First is global configuration followed by services configuration for each role. All configuration options are read only. User can get more information about each configuration option by clicking the question mark icon next to the option label.

User is allowed to set configuration for reduced list of options in the form that is accessed by clicking "Edit configuration" page action button.

### Node Management

Node registration is covered in this section: <https://rdoproject.org/Tuskar-UI#Register_nodes>.

#### Viewing Nodes Information

Information about existing nodes can be accessed by navigating to Nodes on the left-hand side navigation menu.

The first tab, Overview, shows general aggregated information about existing nodes. On the left-hand side, hardware information, provisioning status and power status are displayed. On the right-hand side, you can view the graphs containing information from Ceilometer.

The remaining four tabs (All, Provisioned, Free and Maintenance) show tabular information about corresponding nodes.

#### Viewing Node Details

Clicking on a particular node will take you to the detail page for that node. On this page you can view additional information, including hardware inventory, deployment related details, as well as Ceilometer graph metrics for that node.

#### Node Actions

Actions can be performed on a single node, or on a group of nodes (batch actions). To perform an action on a single node, you can either press the corresponding button in the "Actions" column of the tabular node view, or press the button on the node detail page. To perform a batch action on a group of nodes, you need to select the nodes using the checkboxes in the tabular view, and press the desired action button above the table.

##### Delete

To delete nodes, use the "Delete Nodes" button. Note that it is only possible to delete a node if the node is both free (non deployed) and powered off.

##### Power on/off

To power nodes on or off, use the corresponding "Power On Nodes"/"Power Off Nodes" buttons.

##### Activate

To activate nodes (move them from the maintenance state to the free state), use the "Activate Nodes" button.

### Development installation

If you wish to create a development installation of the Tuskar-UI, install as described in the [Quick Install instructions](https://rdoproject.org/Tuskar-UI#Quick_Install) first.

Next, turn off the running instance of the Tuskar UI:

       sudo service httpd stop

Now you can follow the [development instance installation instructions](http://tuskar-ui.readthedocs.org/en/latest/install.html).

### Additional overcloud configuration

The parameters that Tuskar is sending to Heat can be viewed by clicking on 'Service Configuration' in the left navigation. A subset of those can be modified through the UI. To do so, click on the 'Edit Configuration' button in the upper-right corner.

Use the Tuskar CLI to modify additional parameters. This process is described in the next section.

### Using the Tuskar CLI

The Tuskar CLI can be used to perform additional operations. In order to use it, access the Instack virtual machine and source stackrc:

       source /home/stack/stackrc

Many of the CLI operations require the overcloud plan uuid:

       [stack@localhost ~]$ tuskar plan-list
       +--------------------------------------+-----------+-------------+----------------------------------------------------+
       | uuid                                 | name      | description | roles                                              |
       +--------------------------------------+-----------+-------------+----------------------------------------------------+
       | 1289d499-de0a-4688-86e2-b0caf7ae06ea | overcloud | None        | controller, swift-storage, compute, cinder-storage |
       +--------------------------------------+-----------+-------------+----------------------------------------------------+

#### View Overcloud templates

To view the Heat templates used for the Overcloud deployment, run the following:

` [stack@localhost ~]$ tuskar plan-templates -O output-dir `<plan uuid>
       Following templates has been written:
       output-dir/plan.yaml
       output-dir/environment.yaml
       output-dir/provider-swift-storage-1.yaml
       output-dir/provider-cinder-storage-1.yaml
       output-dir/provider-controller-1.yaml
       output-dir/provider-compute-1.yaml

#### Modify Overcloud parameters

Available Overcloud parameters can be viewed in the environment.yaml file. To modify a specific parameter, run the following:

` [stack@localhost ~]$ tuskar plan-patch -A `<key>`=`<value>` `<plan uuid>
